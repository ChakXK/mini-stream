<app-navigator></app-navigator>
<div class="container h-100 p-4">
    <div class="row h-100 justify-content-center">
        <div class="col-12 card shadow">
            <h2>Friends</h2>
            <h6>Search Friends</h6>
            <div class="input-group">
                <input type="text" [(ngModel)]="querySearch" class="form-control">
                <button (click)="onSearch()">Search</button>
            </div>
            <div *ngIf="isSearch">
                <h2>Search Friends</h2>
                <ul>
                    <li *ngFor="let result of searchResult$">
                        <div class="input-group justify-content-between">
                            <h6>{{result.name}}</h6>
                            <span *ngIf="result.isFriend; then friend; else notFriend">
                            </span>
                            <ng-template #friend>
                                <button (click)="onRemove(result)" class="btn btn-danger">remove friend</button>
                            </ng-template>
                            <ng-template #notFriend>
                                <button (click)="onAdd(result)" class="btn btn-primary">Add friend</button>
                            </ng-template>
                        </div>
                    </li>
                </ul>
            </div>
            <div *ngIf="!isSearch">
                <h2>My Friends</h2>
                <ul>
                    <li *ngFor="let friend of friends$">
                        <div class="input-group justify-content-between">
                            <h6>{{friend.name}}</h6>
                            <button *ngIf="friend.isFriend" (click)="onRemove(friend)" class="btn btn-danger">remove
                                friend</button>
                        </div>
                    </li>
                </ul>
            </div>
        </div>
    </div>
</div>